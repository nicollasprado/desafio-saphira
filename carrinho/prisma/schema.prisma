generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Product {
  id        String     @id @default(uuid())
  name      String     @unique
  price     Int
  image_url String
  cartItens CartItem[]

  @@map("product")
}

model Cart {
  id        String     @id @default(uuid())
  subtotal  Int        @default(0)
  total     Int        @default(0)
  cartItems CartItem[]

  @@map("cart")
}

model CartItem {
  id        String  @id @default(uuid())
  cart      Cart    @relation(fields: [cartId], references: [id], onDelete: Cascade)
  cartId    String  @map("cart_id")
  product   Product @relation(fields: [productId], references: [id], onDelete: Cascade)
  productId String  @map("product_id")
  quantity  Int

  @@unique([cartId, productId])
  @@map("product_id")
}
